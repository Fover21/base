<map version="1.0.1">
<!-- To view this file, download free mind mapping software FreeMind from http://freemind.sourceforge.net -->
    <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="Django1.11.4之模型" >
            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="流程梳理" POSITION="right">
            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="创建工程" POSITION="right">
            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="执行&lt;django-admin startproject project&gt;" POSITION="right">
    </node>

    </node>

            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="创建项目" POSITION="right">
    </node>

            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="激活项目" POSITION="right">
    </node>

            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="配置数据库" POSITION="right">
            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="修改__init__.py文件" POSITION="right">
    </node>

            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="修改settings.py文件中的DATABASES" POSITION="right">
    </node>

    </node>

            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="创建模型类" POSITION="right">
            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="在项目目录下的models.py文件中" POSITION="right">
    </node>

    </node>

            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="生成迁移文件" POSITION="right">
            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="执行&lt;python manage.py makemigrations&gt;" POSITION="right">
    </node>

    </node>

            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="执行迁移" POSITION="right">
            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="执行&lt;python manage.py migrate&gt;" POSITION="right">
    </node>

    </node>

            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="配置站点" POSITION="right">
    </node>

            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="创建模板目录/项目模板目录" POSITION="right">
    </node>

            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="在settings.py文件中TEMPLATES配置模板路径" POSITION="right">
    </node>

            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="在project下修改urls.py" POSITION="right">
    </node>

            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="在项目目录下创建urls.py" POSITION="right">
    </node>

    </node>

            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="定义模型" POSITION="left">
            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="Django都各种数据库提供了很好的支持，为这些数据库提供了同意的调用API，可以根据不同的业务需求选择不同的数据库 " POSITION="left">
    </node>

            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="配置数据库" POSITION="left">
            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="修改工程目录下的__init__.py文件" POSITION="left">
    </node>

            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="在settings.py文件中修改DATABASES" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="开发流程" POSITION="left">
            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="配置数据库" POSITION="left">
    </node>

            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="定义模型类" POSITION="left">
            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="一个模型类对应一个数据库中的表" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="生成迁移文件" POSITION="left">
            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="生成数据表" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="使用模型类进行增删改查(CRUD)" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="ORM" POSITION="left">
            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="概括" POSITION="left">
            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="对象、关系、映射" POSITION="left">
    </node>

            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="Object/Relational Mapping" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="图解" POSITION="left">
            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT=" " POSITION="left">
        <richcontent TYPE="NODE">
        <html>
            <head>
            </head>
            <body>
                <img src="https://www.wangbase.com/blogimg/asset/201902/bg2019021802.png" width="200" height="102"/>
            </body>
        </html>
    </richcontent>
</node>

    </node>

            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="ORM把数据库映射为对象" POSITION="left">
            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="数据库的表（table） --&gt; 类（class）
记录（record，行数据）--&gt; 对象（object）
字段（field）--&gt; 对象的属性（attribute）" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037113" ID="ID_56c57fd8117ffd73abe3b840ad0aa6c6" MODIFIED="1590723037113" TEXT="任务" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="根据对象的类型生成表结构" POSITION="left">
    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="将对象、列表的操作转换为SQL语句" POSITION="left">
    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="将SQL语句查询到的结果转换为对象、列表" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="优点" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="减轻了开发人员的工作量，不需要面对因数据库的变更而修改代码" POSITION="left">
    </node>

    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="定义属性" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="模型、属性、表、字段间的关系" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="一个模型类在数据库中对应一张表，在模型类中定义的属性，对应该模型对照表中的一个字段" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="定义属性" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="概述" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·django根据属性的类型确定以下信息" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·当前选择的数据库支持字段的类型
·渲染管理表单时使用的默认html控件
·在管理站点最低限度的验证" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·django会为表增加自动增长的主键列，每个模型只能有一个主键列，如果使用选项设置某属性为主键列后，则django不会再生成默认的主键列" POSITION="left">
    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·属性命名限制" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·遵循标识符规则
·由于django的查询方式，不允许使用连续的下划线" POSITION="left">
    </node>

    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="库" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·定义属性时，需要字段类型，字段类型被定义在django.db.models.fields目录下，为了方便使用，被导入到django.db.models中" POSITION="left">
    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·使用方式" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·导入from django.db import models
·通过models.Field创建字段类型的对象，赋值给属性" POSITION="left">
    </node>

    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="逻辑删除" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·对于重要数据都做逻辑删除，不做物理删除，实现方法是定义isDelete属性，类型为BooleanField，默认值为False" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="字段类型" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="AutoField" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="一个根据实际ID自动增长的IntegerField,通常不指定" POSITION="left">
    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="一个主键字段将自动添加到模型中" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·CharField（max_length-字符长度）" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·字符串，默认的表单样式是TextInput" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·TextField" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·大文本字段，一般超过4000使用，默认的表单控件是Textarea" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·IntegerField" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="整数" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·DecimalField（max_digits=None，decimal_places=None）" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·使用python的Decimal实例表示的十进制浮点数" POSITION="left">
    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="参数说明" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·DecimalField.max_digits
·位数总数" POSITION="left">
    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·DecimalField.decimal_places
·小数点后的数字位数" POSITION="left">
    </node>

    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="FloatField" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="用Python的float实例来表示的浮点数" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="BooleanField" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="true/false字段，此字段的默认表单控制是CheckboxInput" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·NullBooleanField" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="支持null、true、false三种值" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="DateField([auto_now=False，auto_now_add=False]）" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·使用Python的datetime.date实例表示的日期" POSITION="left">
    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·参数说明" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·DateField.auto_now
·每次保存对象时，自动设置该字段为当前时间，用于“最后一次修改”的时间戳，它总是使用当前日期，默认为false·" POSITION="left">
    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="DateField.auto_now_add
·当对象第一次被创建时自动设置当前时间，用于创建的时间戳，它总是使用当前日期，默认为false" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="说明" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·该字段默认对应的表单控件是一个TextInput.在管理员站点添加了一个Javascript写的日历控件，和一个“Today”的快捷按钮，包含了一个额外的invalid_date错误消息键" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="注意" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·auto_now_add，auto_now，and default 这些设置是相排斥的，他们之间的任何组合将会发生错误的结果" POSITION="left">
    </node>

    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="TimeField" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="使用Python的datetime.time实例表示的时间，参数同DateField" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="DateTimeField" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="使用Python的datetime，参数同DateField" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="FileField" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="一个上传文件的字段" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="ImageField" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="继承了FileField的所有属性和方法，但对上传的对象进行校验，确保它是个有效的image" POSITION="left">
    </node>

    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="字段选项" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="概述" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT=".通过字段选项，可以实现对字段的约束
·在字段对象时通过关键字参数指定" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="null" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·如果为True，Django将空值以NULL存储到数据库中，默认值是False" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="blank" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·如果为True，则该字段允许为空白，默认值是False" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·注意" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·null是数据库范畴的概念，blank是表单验证证范畴的" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·db_column" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT=".字段的名称，如果未指定，则使用属性的名称" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·db_index" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT=".若值为True，则在表中会为此字段创建索引" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·default" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·默认值" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·primary_key" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·若为True，则该字段会成为模型的主键字段" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·unique" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·如果为true，这个字段在表中必须有唯一值" POSITION="left">
    </node>

    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="关系" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="分类" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·Foreignkey：一对多，将字段定义在多的端中" POSITION="left">
    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·ManyToManyField：多对多，将字段定义在两端中" POSITION="left">
    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="·OneToOneField：一对一，将字段定义在任意一端中" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="用一访问多" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="格式" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="对象、模型类小写_set" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="示例" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="grade.students_set" POSITION="left">
    </node>

    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="用一访问一" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="格式" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="对象、模型类小写" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="示例" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="grade.students" POSITION="left">
    </node>

    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="访问id" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="格式" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="对象.属性_id" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="示例" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="student.sgrade_id" POSITION="left">
    </node>

    </node>

    </node>

    </node>

    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="创建模型类" POSITION="left">
    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="元选项" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="在模型类中定义Meta类，用于设置元信息" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="db_table" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="定义数据表名，如果不写数据，则数据表明默认为&lt;项目名_类名&gt;" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="ordering" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="对象的默认排序字段，获取对象的列表时可以使用" POSITION="left">
    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="ordering['id']" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="升序" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="ordering['-id']" POSITION="left">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="降序" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="排序会增加数据库的开销" POSITION="left">
    </node>

    </node>

    </node>

    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="模型成员 " POSITION="right">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="类属性" POSITION="right">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="objects查询器" POSITION="right">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="是Manager类型的一个对象，作用是和数据库进行交互" POSITION="right">
    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="当定义模型类时没有指定管理器，则Django为模型创建一个名为objects的管理器" POSITION="right">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="自定义管理器" POSITION="right">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="stuObj  = models.Manager()" POSITION="right">
    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="当为模型指定管理器，Django就不再为模型类生成objects管理器" POSITION="right">
    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="自定义管理器Manager类" POSITION="right">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="模型管理器是Django的模型与数据库进行交互的接口，一个模型可以有多个模型管理器" POSITION="right">
    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="作用" POSITION="right">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="向管理器类中添加额外的方法" POSITION="right">
    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="修改管理器返回的原始查询集" POSITION="right">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="重写get_queryset()方法" POSITION="right">
    </node>

    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="代码示例" POSITION="right">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="" POSITION="right">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="class StudentsManager(models.Manager):" POSITION="right">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="def get_queryset(self):" POSITION="right">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="return super(StudentsManager, self).get_queryset().filter(isDelete=False)" POSITION="right">
    </node>

    </node>

    </node>

        <richcontent TYPE="NODE">
        <html>
            <head>
            </head>
            <body>
                <img src="https://kityminder-img.gz.bcebos.com/540313bb3793c809001d16b42cb99f215482f881" width="200" height="47"/>
            </body>
        </html>
    </richcontent>
</node>

    </node>

    </node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="创建对象" POSITION="right">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="目的：向数据库中添加数据" POSITION="right">
    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="当创建对象时，Django不会对数据库进行读写操作，当调用save()方法时才与数据库交互，将对象保存到数据库表中" POSITION="right">
    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="注意：__init__方法已经在父类models.Model中使用，在自定义的模型中无法使用" POSITION="right">
    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="方法两种" POSITION="right">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="在模型类中增加一个类方法" POSITION="right">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="@classmethod
def createStudent(cls, name, age, gender, contend, lastTime, createTime, grade, isDelete=False):
	stu = cls(name=name, age=age, gender=gender, contend=contend, lastTime=lastTime, createTime=createTime, grade=grade, isDelete=isDelete)
	return stu" POSITION="right">
        <richcontent TYPE="NODE">
        <html>
            <head>
            </head>
            <body>
                <img src="https://kityminder-img.gz.bcebos.com/1f01a728031b21e7834ab9fe4f1cf94049cda395" width="200" height="31"/>
            </body>
        </html>
    </richcontent>
</node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="视图中的应用" POSITION="right">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="def addstudent(request):" POSITION="right">
            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="grade = Grades.objects.get(pk=1)" POSITION="right">
    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="stu = Students.createStudent('刘德华', 34, True, 'zzzzz', '2020-5-20', '2020-5-20', grade)" POSITION="right">
    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="stu.save()" POSITION="right">
    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="return HttpResponse('success!')" POSITION="right">
    </node>

    </node>

        <richcontent TYPE="NODE">
        <html>
            <head>
            </head>
            <body>
                <img src="https://kityminder-img.gz.bcebos.com/f480b26d0fe9c9c978ce9dc40986e1cbb3df9e9e" width="200" height="23"/>
            </body>
        </html>
    </richcontent>
</node>

    </node>

            <node CREATED="1590723037114" ID="ID_8a396ef51206a6262fba8aee6e822c30" MODIFIED="1590723037114" TEXT="在自定义管理器中添加一个方法" POSITION="right">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="分支主题" POSITION="right">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="class StudentsManager(models.Manager):" POSITION="right">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="def get_queryset(self):" POSITION="right">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="return super(StudentsManager, self).get_queryset().filter(isDelete=False)" POSITION="right">
    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="def createStudent(self, name, age, gender, contend, lastT, createT, grade, isD=False):" POSITION="right">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="stu = self.model()  # Students类型" POSITION="right">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="stu.name = name" POSITION="right">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="stu.age = age" POSITION="right">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="stu.gender = gender" POSITION="right">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="stu.contend = contend" POSITION="right">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="stu.lastTime = lastT" POSITION="right">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="stu.createTime = createT" POSITION="right">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="stu.grade = grade" POSITION="right">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="return stu" POSITION="right">
    </node>

    </node>

    </node>

        <richcontent TYPE="NODE">
        <html>
            <head>
            </head>
            <body>
                <img src="https://kityminder-img.gz.bcebos.com/c8a5452dd8c9e4990ae9ae026e17e1ad70307314" width="200" height="64"/>
            </body>
        </html>
    </richcontent>
</node>

    </node>

    </node>

    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="模型查询" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="概述" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="查询集表示从数据库中获取的对象的集合" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="查询集可以有多个过滤器" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="过滤器就是一个函数，基于所给的参数限制查询集结果" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="从SQL角度来说，查询集合select语句等价，过滤器就像where条件" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="查询集" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="在管理器上调用过滤器方法返回查询集" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="查询集经过过滤器筛选后返回新的查询集，所以可以写成链式调用" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="惰性执行" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="创建查询集不会带来任何数据库的访问，直到调用数据时，才会访问数据库" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="直接访问数据的情况" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="迭代" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="序列化" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="与if合用" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="返回查询集的方法称为过滤器" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="all()" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="返回查询集的所有数据" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="filter()" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="返回符合条件的数据" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="filter(键=值)" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="filter(键=值, 键=值)" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="filter(键=值).filter(键=值)" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="exclude()" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="过滤掉符合条件的数据" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="order_by()" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="排序" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="values()" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="一条数据就是一个对象（字典），返回一个列表" POSITION="left">
    </node>

    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="返回单个数据" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="get()" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="返回一个满足条件的对象" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="注意" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="如果没有找到符合条件的对象，会引发&lt;模型类.DoesNotExist&gt;的异常" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="如果找到多个对象，也会引发&lt;模型类.MultipleObjectsReturned&gt;异常" POSITION="left">
    </node>

    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="count()" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="返回当前查询集中的对象个数" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="first()" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="返回查询集中的第一个对象" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="last()" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="返回查询集中的最后一个对象" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="exists()" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="判断查询集中是否有数据，返回True或False" POSITION="left">
    </node>

    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="限制查询集" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="查询集返回列表，可以使用切片的方法进行限制，就等同于SQL中的LIMIT语句" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="注意：下标不能用负数" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="例：students_list = Students.stuObj2.all()[0:5]" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="查询集的缓存" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="概述" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="每个查询集都包含一个缓存，来最小化的对数据库访问" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="在新建的查询集中，缓存首次为空，第一次对查询集求值，会发生数据缓存，Django会将查询出来的数据做一个缓存并返回查询结果，以后的查询直接使用缓存" POSITION="left">
    </node>

    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="字段查询" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="概述" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="实现了SQL中的where语句，作为方法filter(),exclude(),get()的参数" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="语法" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="属性名称__比较运算符 = 值   （下划线是两个）" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="外键" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="属性名_id" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="转义" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="SQL的LIKE语句中使用%是为了匹配占位，匹配%用&lt;where like "\%"&gt;" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="filter中%没有匹配占位的功能" POSITION="left">
    </node>

    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="比较运算符" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="exact" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="判断，大小写敏感" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="例如：filter(isDelete=False)" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="contains" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="是否包含，大小写敏感" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="例子" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="查询名字中带“孙”的学生" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="students_list = Students.stuObj2.filter(name__contains='孙')" POSITION="left">
    </node>

        <richcontent TYPE="NODE">
        <html>
            <head>
            </head>
            <body>
                <img src="https://kityminder-img.gz.bcebos.com/5d79440481dd6eb3ae0e55e01f63b3f2fec8fe3d" width="200" height="18"/>
            </body>
        </html>
    </richcontent>
</node>

    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="startswith, endswith" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="以value开头或结尾，大小写敏感" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="例子" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="查询名字以“刘”开头的学生" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="students_list = Students.stuObj2.filter(name__startswith='刘')" POSITION="left">
    </node>

        <richcontent TYPE="NODE">
        <html>
            <head>
            </head>
            <body>
                <img src="https://kityminder-img.gz.bcebos.com/c881c1b034ce33095af3f055111610336fade532" width="200" height="24"/>
            </body>
        </html>
    </richcontent>
</node>

    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="以上四个运算符在前面加上i,就表示不区分大小写" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="iexact, icontains, istartswith, iendswith" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="isnul, isnotnull" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="是否为空" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="filter(name__isnull=False)" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="in" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="是否包含在范围内" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="例子" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="查询孙武和刘德华" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="students_list = Students.stuObj2.filter(name__in=['刘德华', '孙武'])" POSITION="left">
    </node>

        <richcontent TYPE="NODE">
        <html>
            <head>
            </head>
            <body>
                <img src="https://kityminder-img.gz.bcebos.com/4c01fd00c8ebf42584c783798af3ed198c193d8e" width="200" height="18"/>
            </body>
        </html>
    </richcontent>
</node>

    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="gt, gte, lt, lte" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="大于，大于等于， 小于， 小于等于" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="查询年龄大于20的学生" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="students_list = Students.stuObj2.filter(age__gt=20)" POSITION="left">
    </node>

        <richcontent TYPE="NODE">
        <html>
            <head>
            </head>
            <body>
                <img src="https://kityminder-img.gz.bcebos.com/7e0e6a9b35aceb680ebe3d188e1804d0c056e952" width="200" height="18"/>
            </body>
        </html>
    </richcontent>
</node>

    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="year, month, day, week_day, hour, minute, second" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="查询lastTime是2020年的学生" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="students_list = Students.stuObj2.filter(lastTime__year=2020)" POSITION="left">
    </node>

        <richcontent TYPE="NODE">
        <html>
            <head>
            </head>
            <body>
                <img src="https://kityminder-img.gz.bcebos.com/84cde103a4c696f01b6edc78c43b21132fe234b8" width="200" height="24"/>
            </body>
        </html>
    </richcontent>
</node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="跨关联查询" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="处理join查询" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="语法" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="模型类名__属性名__比较运算符" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="例子" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="找出姓名里带有“刘”的同学的班级" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="grades_list = Grades.graObj.filter(students__name__contains='刘')" POSITION="left">
    </node>

        <richcontent TYPE="NODE">
        <html>
            <head>
            </head>
            <body>
                <img src="https://kityminder-img.gz.bcebos.com/8a3d2187bea98b3d635b0758718554d90b89d757" width="200" height="27"/>
            </body>
        </html>
    </richcontent>
</node>

    </node>

    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="查询快捷" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="pk" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="主键" POSITION="left">
    </node>

    </node>

    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="聚合函数" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="使用aggregate()函数返回聚合函数的值" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="Avg" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="Count" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="Max" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="例子" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="maxAge = Students.stuObj2.aggregate(Max('age'))
print(maxAge)" POSITION="left">
    </node>

        <richcontent TYPE="NODE">
        <html>
            <head>
            </head>
            <body>
                <img src="https://kityminder-img.gz.bcebos.com/51fbae14081fb760130101871bccd8a7e1ccd177" width="200" height="34"/>
            </body>
        </html>
    </richcontent>
</node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="Min" POSITION="left">
    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="Sum" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="F对象" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="实现模型的A属性与B属性进行比较" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="找到女生比男生多的班级" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="g = Grades.graObj.filter(girl_num__gt=F('boy_num'))
print(g)" POSITION="left">
    </node>

        <richcontent TYPE="NODE">
        <html>
            <head>
            </head>
            <body>
                <img src="https://kityminder-img.gz.bcebos.com/a3848e743eaff6e34a530137dc1459d2cf04bf69" width="200" height="42"/>
            </body>
        </html>
    </richcontent>
</node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="支持F对象的算术运算" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="例子" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="g = Grades.graObj.filter(girl_num__gt=F('boy_num')+20)
print(g)" POSITION="left">
    </node>

        <richcontent TYPE="NODE">
        <html>
            <head>
            </head>
            <body>
                <img src="https://kityminder-img.gz.bcebos.com/a784c0ea2626d65c27adc04f81a19605513b0a1a" width="200" height="30"/>
            </body>
        </html>
    </richcontent>
</node>

    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="Q对象" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="概述" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="过滤器的方法中的关键字参数，条件为And模式" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="Q对象目的" POSITION="left">
            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="实现or关系的查询" POSITION="left">
    </node>

    </node>

            <node CREATED="1590723037115" ID="ID_6a6c4e17a9704a58971388f7f16b9faa" MODIFIED="1590723037115" TEXT="例子" POSITION="left">
            <node CREATED="1590723037116" ID="ID_7352088a1b6f62fae80fb8780e9802c0" MODIFIED="1590723037116" TEXT="students_list = Students.stuObj2.filter(Q(pk__lte=3) | Q(age__gt=50))" POSITION="left">
        <richcontent TYPE="NODE">
        <html>
            <head>
            </head>
            <body>
                <img src="https://kityminder-img.gz.bcebos.com/692c7df75b0e619bb12482eaf57a35ecef7b00a7" width="200" height="10"/>
            </body>
        </html>
    </richcontent>
</node>

            <node CREATED="1590723037116" ID="ID_7352088a1b6f62fae80fb8780e9802c0" MODIFIED="1590723037116" TEXT="~代表取反" POSITION="left">
            <node CREATED="1590723037116" ID="ID_7352088a1b6f62fae80fb8780e9802c0" MODIFIED="1590723037116" TEXT="students_list = Students.stuObj2.filter(~Q(pk__lte=3))" POSITION="left">
    </node>

        <richcontent TYPE="NODE">
        <html>
            <head>
            </head>
            <body>
                <img src="https://kityminder-img.gz.bcebos.com/d2a4b36c9cfa2a0877c748b88a77f552c20e96c9" width="200" height="12"/>
            </body>
        </html>
    </richcontent>
</node>

    </node>

    </node>

    </node>

    </node>

    </node>

    </node>

</map>
